# ============================================
# Cloudflare Tunnel Configuration Example
# ============================================
#
# This file is used when running cloudflared outside of Docker.
# Copy to /etc/cloudflared/config.yml and fill in your tunnel ID.
#
# To get your tunnel ID and credentials:
# 1. Go to Cloudflare Zero Trust Dashboard
# 2. Navigate to Access â†’ Tunnels
# 3. Create a new tunnel or select existing one
# 4. Copy the tunnel ID
#
# ============================================

# Your tunnel ID (get from Cloudflare dashboard)
tunnel: <YOUR_TUNNEL_ID>

# Credentials file (created by cloudflared login)
credentials-file: /etc/cloudflared/credentials.json

# Ingress rules - route traffic to local services
ingress:
  # Main frontend application
  - hostname: riskradar.ovh
    path: /api/*
    service: http://localhost:8090
    originRequest:
      noTLSVerify: true

  - hostname: riskradar.ovh
    service: http://localhost:3000
    originRequest:
      noTLSVerify: true

  # Documentation
  - hostname: docs.riskradar.ovh
    service: http://localhost:8000
    originRequest:
      noTLSVerify: true

  # Mailpit (email testing UI) - restrict access in Cloudflare Access!
  - hostname: mail.riskradar.ovh
    service: http://localhost:8025
    originRequest:
      noTLSVerify: true

  # Catch-all rule (required)
  - service: http_status:404

# Logging
loglevel: info

# Metrics (optional - for monitoring)
# metrics: localhost:2000
